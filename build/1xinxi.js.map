{"version":3,"sources":["1xinxi.js"],"names":[],"mappings":";;;;;;;;IAAO,OAAO,2BAAM,YAAY;;AAEhC,IAAM,MAAM,GAAG,2CAA2C,CAAC;;IAErD,QAAQ;AACD,WADP,QAAQ,CACA,OAAO,EAAE,QAAQ,EAAE;0BAD3B,QAAQ;;AAEV,QAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,QAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AACzB,QAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;GACtB;;eALG,QAAQ;AAOZ,QAAI;aAAA,cAAC,OAAO,EAAE,EAAE,EAAE;AAChB,YAAI,IAAI,GAAG;AACT,cAAI,EAAE,IAAI,CAAC,OAAO;AAClB,aAAG,EAAE,IAAI,CAAC,QAAQ;AAClB,gBAAM,EAAE,OAAO,CAAC,EAAE;AAClB,iBAAO,EAAE,OAAO,CAAC,OAAO;AACxB,cAAI,EAAE,IAAI;SACX,CAAC;AACF,eAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAA,GAAG,EAAI;AACtD,cAAI,GAAG,CAAC,KAAK,EAAE;AACb,gBAAI,KAAK,GAAG,IAAI,KAAK,cAAY,MAAM,YAAS,CAAC;AACjD,iBAAK,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;AAC1B,mBAAO,EAAE,CAAC,KAAK,CAAC,CAAC;WAClB;;AAED,cAAI,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACjC,cAAI,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;AACrB,gBAAI,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACjC,iBAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;AACvC,iBAAK,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;AACrB,mBAAO,EAAE,CAAC,KAAK,CAAC,CAAC;WAClB;;AAED,iBAAO,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;SAC3B,CAAC,CAAC;OACJ;;;;SAhCG,QAAQ;;;iBAmCC,QAAQ","file":"1xinxi.js","sourcesContent":["import request from 'superagent';\n\nconst apiUrl = 'http://sms.1xinxi.cn/asmx/smsservice.aspx';\n\nclass TheFirst {\n  constructor(account, password) {\n    this.account = account;\n    this.password = password;\n    this.name = '1xinxi';\n  }\n\n  send(options, cb) {\n    let data = {\n      name: this.account,\n      pwd: this.password,\n      mobile: options.to,\n      content: options.content,\n      type: 'pt'\n    };\n    request.post(apiUrl).type('form').send(data).end(res => {\n      if (res.error) {\n        let error = new Error(`Request ${apiUrl} error`);\n        error.status = res.status;\n        return cb(error);\n      }\n\n      let result = res.text.split(',');\n      if (result[0] !== '0') {\n        let error = new Error(result[1]);\n        error.status = parseInt(result[0], 10);\n        error.raw = res.text;\n        return cb(error);\n      }\n\n      return cb(null, res.text);\n    });\n  }\n}\n\nexport default TheFirst;"],"sourceRoot":"/source/"}